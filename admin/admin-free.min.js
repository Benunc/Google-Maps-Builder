!function($,gmb){gmb.add_markers=function(map){gmb.clear_main_markers(),$("#gmb_markers_group_repeat").find(".cmb-repeatable-grouping").each(function(index){var marker_icon=gmb_data.default_marker,marker_label="",custom_marker_icon=$("#gmb_markers_group_"+index+"_marker").val(),custom_marker_img=$("#gmb_markers_group_"+index+"_marker_img").val();if(custom_marker_img)marker_icon=custom_marker_img;else if(custom_marker_icon.length>0&&custom_marker_icon.length>0){var custom_label=$("#gmb_markers_group_"+index+"_label").val();marker_icon=eval("("+custom_marker_icon+")"),marker_label=custom_label}var location_marker=new Marker({map:map,zIndex:9,icon:marker_icon,custom_label:marker_label}),marker_lat=$("#gmb_markers_group_"+index+"_lat").val(),marker_lng=$("#gmb_markers_group_"+index+"_lng").val();location_marker.setPosition(new google.maps.LatLng(marker_lat,marker_lng)),location_marker.setVisible(!0),google.maps.event.addListener(location_marker,"click",function(){gmb.get_info_window_content(index,location_marker)}),$("#gmb_markers_group_"+index+"_title").parents(".cmb-repeatable-grouping").find(".cmb-remove-group-row").each(function(){google.maps.event.addDomListener($(this)[0],"click",function(){$(this).parents(".cmb-repeatable-grouping").data("index");info_bubble.close(),location_marker.setVisible(!1)})})})},gmb.get_marker_index=function(){var r=parseInt($("#gmb_markers_group_repeat div.cmb-repeatable-grouping").last().attr("data-iterator")),e=$('div[data-iterator="0"] ').find("input,textarea").val();return e&&0===r?($(".cmb-add-group-row.button").trigger("click"),r=1):0!==r&&($(".cmb-add-group-row.button").trigger("click"),r=parseInt($("#gmb_markers_group_repeat div.cmb-repeatable-grouping").last().attr("data-iterator"))),r}}(jQuery,window.MapsBuilderAdmin||(window.MapsBuilderAdmin={}));